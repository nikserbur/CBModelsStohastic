# CB_models_stohastic ‚Äî –°—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–æ–µ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞–≤–æ–∫ –¶–ë –†–§

–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–ª—é—á–µ–≤—ã—Ö –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã—Ö –±–∞–Ω–∫–æ–≤ —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π —Å –∂–∏—Ä–Ω—ã–º–∏ —Ö–≤–æ—Å—Ç–∞–º–∏ (fat tails). –ü—Ä–æ–µ–∫—Ç –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ –∞–Ω–∞–ª–∏–∑—É tail risks, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è—Ö Fed (2024), BIS, NY Fed –∏ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ –¢–∞–ª–µ–±–∞.

**–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:** –ë—É—Ä–∞–∫–æ–≤ –ù–∏–∫–∏—Ç–∞ –°–µ—Ä–≥–µ–µ–≤–∏—á  
**–í–µ—Ä—Å–∏—è:** 2.1 (–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è)  
**–î–∞—Ç–∞:** 2025-01-27

### –î–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ–≥–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:
```r
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤—Å–µ—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫
source("1.R/9.libraries.r")

# –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
source("1.R/Main.R")
```

### –î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã:
```r
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π
source("1.R/8.SourceAll.R")

# –ó–∞–ø—É—Å–∫ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
test_results <- RunComprehensiveTests()
```


## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ –º–æ–¥–µ–ª–∏

### –¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤:
```
CB_models_stohastic/
‚îú‚îÄ‚îÄ 1.R/
‚îÇ   ‚îú‚îÄ‚îÄ 1.functions/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ all_fun.R                   # –û–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–π —Ñ–∞–π–ª –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ 3.dist_bust.R                   # –ê–Ω–∞–ª–∏–∑ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π –∂–∏—Ä–Ω—ã—Ö —Ö–≤–æ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ 4.LmR2BoostingStohastic.R      # R¬≤ –∫–æ—Ä—Ä–µ–∫—Ü–∏—è –¥–ª—è fat tails
‚îÇ   ‚îú‚îÄ‚îÄ 8.SourceAll.R                   # –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ 9.libraries.r                   # –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ Main.R                          # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç
‚îú‚îÄ‚îÄ 2.Cpp/
‚îÇ   ‚îî‚îÄ‚îÄ FastMonteCarlo.cpp              # Rcpp –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ 3.Data/                             # –î–∞–Ω–Ω—ã–µ –¶–ë –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
‚îî‚îÄ‚îÄ README.md                           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

### –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å Rcpp:

**Main.R** —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å Rcpp –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏:

1. **–ê–Ω–∞–ª–∏–∑ –∂–∏—Ä–Ω—ã—Ö —Ö–≤–æ—Å—Ç–æ–≤** ‚Üí –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π
2. **HAR –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å** ‚Üí –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –º–æ–¥—É–ª—è—Ü–∏—è —Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–∏—Ö —à–æ–∫–æ–≤ **+ Rcpp —É—Å–∫–æ—Ä–µ–Ω–∏–µ**
3. **HMM —Ä–µ–∂–∏–º—ã** ‚Üí –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ —Å–¥–≤–∏–≥–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ **+ Rcpp —É—Å–∫–æ—Ä–µ–Ω–∏–µ**
4. **Gradient Boosting** ‚Üí –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Å—Ç–∞—Ç–∫–æ–≤
5. **Taleb R¬≤ + Shapley** ‚Üí –í–µ—Å–∞ –≤–∞–∂–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –º–æ–¥–µ–ª–∏
6. **Monte Carlo —Å–∏–º—É–ª—è—Ü–∏–∏** ‚Üí **+ Rcpp —É—Å–∫–æ—Ä–µ–Ω–∏–µ**

## Rcpp –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –§—É–Ω–∫—Ü–∏–∏ —Å Rcpp –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:
```r
# –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Monte Carlo
OptimizedMonteCarlo(n_simulations = 10000, horizon = 12, parameters)

# –£—Å–∫–æ—Ä–µ–Ω–Ω—ã–µ HAR —Ä–∞—Å—á–µ—Ç—ã
FastHARCalculation(volatility_series)

# –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ HMM –∞–ª–≥–æ—Ä–∏—Ç–º—ã
FastHMMForwardBackward(observations, hmm_params)

# –ö–æ–º–ø–∏–ª—è—Ü–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π
CompileRcppOptimizations()
```

Main.R (–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
```
‚îú‚îÄ‚îÄ 8.SourceAll.R ‚Üí 9.libraries.r + –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ PrepareMainData() ‚Üí –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ –≠–¢–ê–ü 1: AnalyzeFatTails() ‚Üí tail_parameters –¥–ª—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
‚îú‚îÄ‚îÄ –≠–¢–ê–ü 2: HAR –º–æ–¥–µ–ª—å ‚Üí har_volatility –∫–∞–∫ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
‚îú‚îÄ‚îÄ –≠–¢–ê–ü 3: HMM –æ–±—É—á–µ–Ω–∏–µ ‚Üí regime —Ñ–∞–∫—Ç–æ—Ä—ã –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö —Å–¥–≤–∏–≥–æ–≤
‚îú‚îÄ‚îÄ –≠–¢–ê–ü 4: Gradient Boosting ‚Üí alpha_corrected —Å —É—á–µ—Ç–æ–º —Ö–≤–æ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ –≠–¢–ê–ü 5: Taleb R¬≤ + Shapley ‚Üí shapley_weights –¥–ª—è –º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ –≠–¢–ê–ü 6: IntegratedStochasticModel() ‚Üí –í—Å–µ –º–µ—Ç–æ–¥—ã —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
‚îú‚îÄ‚îÄ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ ‚Üí –ú–µ—Ç—Ä–∏–∫–∏ –≤–ª–∏—è–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ AddNewDataToModel() ‚Üí –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –Ω–æ–≤—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
‚îî‚îÄ‚îÄ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏ –æ–±—É—á–∞—é—Ç—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –¶–ë –†–§. –ö–∞–∂–¥—ã–π –º–µ—Ç–æ–¥ –Ω–∞–ø—Ä—è–º—É—é –≤–ª–∏—è–µ—Ç –Ω–∞ –∏—Ç–æ–≥–æ–≤—ã–π –ø—Ä–æ–≥–Ω–æ–∑.

### –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑–≤–∏—Ç–∏—è –º–æ–¥–µ–ª–∏

#### 1. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –º–∞–∫—Ä–æ—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
–¢–µ–∫—É—â–∞—è –º–æ–¥–µ–ª—å —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö (–∏–Ω—Ñ–ª—è—Ü–∏—è, –í–í–ü), –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∞ –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è:

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞–∫—Ä–æ—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:**
- **–ö—Ä–µ–¥–∏—Ç–Ω—ã–π –∏–º–ø—É–ª—å—Å** - –¥–∏–Ω–∞–º–∏–∫–∞ –∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–∏—è –∏ –µ–≥–æ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –º–æ–Ω–µ—Ç–∞—Ä–Ω—É—é –ø–æ–ª–∏—Ç–∏–∫—É
- **–û–∂–∏–¥–∞–µ–º–∞—è –∏–Ω—Ñ–ª—è—Ü–∏—è** - –∏–Ω—Ñ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ –æ–∂–∏–¥–∞–Ω–∏—è –Ω–∞—Å–µ–ª–µ–Ω–∏—è –∏ –±–∏–∑–Ω–µ—Å–∞
- **–í–∞–ª—é—Ç–Ω—ã–π –∫—É—Ä—Å** - –≤–ª–∏—è–Ω–∏–µ –∫—É—Ä—Å–æ–≤—ã—Ö –∫–æ–ª–µ–±–∞–Ω–∏–π –Ω–∞ –∏–Ω—Ñ–ª—è—Ü–∏–æ–Ω–Ω–æ–µ –¥–∞–≤–ª–µ–Ω–∏–µ
- **–¶–µ–Ω—ã –Ω–∞ —Å—ã—Ä—å–µ** - –Ω–µ—Ñ—Ç—å, –≥–∞–∑, –º–µ—Ç–∞–ª–ª—ã –∫–∞–∫ —Ñ–∞–∫—Ç–æ—Ä—ã –∏–Ω—Ñ–ª—è—Ü–∏–∏
- **–§–∏—Å–∫–∞–ª—å–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞** - –±—é–¥–∂–µ—Ç–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –∏ –∏—Ö –≤–ª–∏—è–Ω–∏–µ –Ω–∞ —ç–∫–æ–Ω–æ–º–∏–∫—É
- **–í–Ω–µ—à–Ω–µ—Ç–æ—Ä–≥–æ–≤—ã–π –±–∞–ª–∞–Ω—Å** - —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç –∏ –∏—Ö –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å
- **–†—ã–Ω–æ–∫ —Ç—Ä—É–¥–∞** - –±–µ–∑—Ä–∞–±–æ—Ç–∏—Ü–∞, –∑–∞—Ä–ø–ª–∞—Ç—ã, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç—Ä—É–¥–∞
- **–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —É—Å–ª–æ–≤–∏—è** - —Å–ø—Ä–µ–¥—ã –ø–æ –∫—Ä–µ–¥–∏—Ç–∞–º, —É—Å–ª–æ–≤–∏—è –∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–∏—è

**–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:**
```r
# –ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
extended_model <- lm(
  ruonia_rate ~ I(lag(ruonia_rate, 1)) + 
                inflation_deviation + gdp_gap +
                credit_impulse + expected_inflation +
                exchange_rate + oil_prices +
                fiscal_balance + trade_balance +
                unemployment_rate + wage_growth +
                financial_conditions,
  data = train_data_with_regimes
)
```

#### 2. –£–ª—É—á—à–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Ç–∏ –º–∞—Ä–∫–æ–≤—Å–∫–∏—Ö —Ü–µ–ø–µ–π** (visNetwork) - –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏
- **–¢–µ–ø–ª–æ–≤—ã–µ –∫–∞—Ä—Ç—ã –º–∞—Ç—Ä–∏—Ü –ø–µ—Ä–µ—Ö–æ–¥–æ–≤** - –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π —Å–º–µ–Ω—ã —Ä–µ–∂–∏–º–æ–≤
- **–ë–µ–ª—ã–π —Ñ–æ–Ω –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤** - —É–ª—É—á—à–µ–Ω–Ω–∞—è —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –ø—Ä–µ–∑–µ–Ω—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å
- **–ê–Ω–∏–º–∞—Ü–∏–∏ —ç–≤–æ–ª—é—Ü–∏–∏ —Ä–µ–∂–∏–º–æ–≤** - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

#### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤
- **VAR –º–æ–¥–µ–ª–∏** - –¥–ª—è —É—á–µ—Ç–∞ –≤–∑–∞–∏–º–æ—Å–≤—è–∑–µ–π –º–µ–∂–¥—É –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
- **Cointegration –∞–Ω–∞–ª–∏–∑** - –¥–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö —Ä–∞–≤–Ω–æ–≤–µ—Å–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π
- **Granger causality** - –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–∏—á–∏–Ω–Ω–æ-—Å–ª–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–≤—è–∑–µ–π
- **Structural breaks** - –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –¥–ª—è —Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫, –≥–¥–µ –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ—à–∞–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏, –Ω–æ –≤—Å–µ –æ–Ω–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ –µ–¥–∏–Ω—É—é —ç–∫–æ—Å–∏—Å—Ç–µ–º—É:

```mermaid
%%{init: {'theme':'dark', 'themeVariables': {'primaryColor': '#ff7f00', 'primaryTextColor': '#ffffff', 'primaryBorderColor': '#ff7f00', 'lineColor': '#ffffff', 'secondaryColor': '#1f1f1f', 'tertiaryColor': '#2f2f2f', 'background': '#1f1f1f', 'mainBkg': '#2f2f2f', 'secondBkg': '#3f3f3f', 'tertiaryBkg': '#4f4f4f'}}}%%
graph TD
    A["–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ<br/>–ò–Ω—Ñ–ª—è—Ü–∏—è, –í–í–ü, –ö—Ä–µ–¥–∏—Ç–Ω—ã–π –∏–º–ø—É–ª—å—Å"] --> B["–ê–Ω–∞–ª–∏–∑ –∂–∏—Ä–Ω—ã—Ö —Ö–≤–æ—Å—Ç–æ–≤<br/>Œ±-stable, t-distribution"]
    A --> C["HAR –ú–æ–¥–µ–ª—å –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏<br/>RV(t) = Œ≤‚ÇÄ + Œ≤‚ÇÅRV(t-1) + Œ≤‚ÇÇRV(t-1,t-5) + Œ≤‚ÇÉRV(t-1,t-22)"]
    A --> D["HMM –†–µ–∂–∏–º—ã<br/>–ù–æ—Ä–º–∞–ª—å–Ω—ã–π/–ö—Ä–∏–∑–∏—Å–Ω—ã–π/–ò–Ω—Ñ–ª—è—Ü–∏–æ–Ω–Ω—ã–π"]
    
    B --> E["Gradient Boosting<br/>–í—ã–±–æ—Ä —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è"]
    C --> F["–°—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å –¢–µ–π–ª–æ—Ä–∞<br/>dr(t) = Œ±(œÄ-œÄ*) + Œ≤(y-y*) + œÉdW + Œ≥dJ"]
    D --> F
    E --> F
    
    F --> G["Monte Carlo —Å–∏–º—É–ª—è—Ü–∏–∏<br/>N=10,000 –ø—É—Ç–µ–π"]
    G --> H["–ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞<br/>VaR, CVaR, CRPS, PIT"]
    H --> I["Taleb R¬≤ –∫–æ—Ä—Ä–µ–∫—Ü–∏—è<br/>R¬≤ = a¬≤(Œ±-2)/(a¬≤(Œ±-2) + Œ±)"]
    
    I --> J["–ò—Ç–æ–≥–æ–≤—ã–π –ø—Ä–æ–≥–Ω–æ–∑<br/>Fan chart —Å –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–º–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞–º–∏"]
    
    K["Rcpp –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏<br/>FastMonteCarlo.cpp"] --> G
    K --> C
    K --> D
```

## –°—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã —Å –∂–∏—Ä–Ω—ã–º–∏ —Ö–≤–æ—Å—Ç–∞–º–∏

### –ë–∞–∑–æ–≤–∞—è —Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–∞—è –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å

–í –æ—Å–Ω–æ–≤–µ –Ω–∞—à–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –ª–µ–∂–∏—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–æ–µ –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ —É—Ä–∞–≤–Ω–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –≤–∫–ª—é—á–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤ —Å–ª—É—á–∞–π–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π:

```
dr(t) = Œº(r,t)dt + œÉ(r,t)dW(t) + Œ≥(r,t)dJ(t) + Œ¥(r,t)dN(t)
```

**–≥–¥–µ:**
- `r(t)` ‚Äî –ø—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è —Å—Ç–∞–≤–∫–∞ –≤ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ t
- `Œº(r,t)` ‚Äî —Ñ—É–Ω–∫—Ü–∏—è drift (–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç—Ä–µ–Ω–¥)
- `œÉ(r,t)` ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –¥–∏—Ñ—Ñ—É–∑–∏–∏ (–≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å)
- `dW(t)` ‚Äî –ø—Ä–∏—Ä–∞—â–µ–Ω–∏–µ –≤–∏–Ω–µ—Ä–æ–≤—Å–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ (–≥–∞—É—Å—Å–æ–≤—Å–∫–∏–µ —à–æ–∫–∏)
- `Œ≥(r,t)` ‚Äî –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å Œ±-stable —Å–∫–∞—á–∫–æ–≤
- `dJ(t)` ‚Äî –ø—Ä–∏—Ä–∞—â–µ–Ω–∏–µ Œ±-stable –ø—Ä–æ—Ü–µ—Å—Å–∞ (–∂–∏—Ä–Ω—ã–µ —Ö–≤–æ—Å—Ç—ã)
- `Œ¥(r,t)` ‚Äî –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å –ø—É–∞—Å—Å–æ–Ω–æ–≤—Å–∫–∏—Ö —à–æ–∫–æ–≤
- `dN(t)` ‚Äî –ø—Ä–∏—Ä–∞—â–µ–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–Ω–æ–≥–æ –ø—É–∞—Å—Å–æ–Ω–æ–≤—Å–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ (—Ä–µ–¥–∫–∏–µ —Å–æ–±—ã—Ç–∏—è)

```mermaid
%%{init: {'theme':'dark', 'themeVariables': {'primaryColor': '#ff7f00', 'primaryTextColor': '#ffffff', 'primaryBorderColor': '#ff7f00', 'lineColor': '#ffffff', 'secondaryColor': '#1f1f1f', 'tertiaryColor': '#2f2f2f', 'background': '#1f1f1f', 'mainBkg': '#2f2f2f', 'secondBkg': '#3f3f3f', 'tertiaryBkg': '#4f4f4f'}}}%%
graph TD
    A["–ë–∞–∑–æ–≤–∞—è SDE<br/>dr(t) = Œº(r,t)dt + œÉ(r,t)dW(t)"] --> B["–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è SDE<br/>dr(t) = Œº(r,t)dt + œÉ(r,t)dW(t) + Œ≥(r,t)dJ(t) + Œ¥(r,t)dN(t)"]
    
    B --> C["Drift: Œº(r,t) = Œ∫(Œ∏(t) - r(t))<br/>–≥–¥–µ Œ∏(t) = r* + Œ±(œÄ-œÄ*) + Œ≤(y-y*)"]
    B --> D["–î–∏—Ñ—Ñ—É–∑–∏—è: œÉ(r,t) = œÉ‚ÇÄ‚àö(1 + Œª|r-r*|)<br/>HAR –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å ‚ö° Rcpp"]
    B --> E["Œ±-stable —Å–∫–∞—á–∫–∏: J(t)<br/>dJ ~ S(Œ±=1.8, Œ≤=0, Œ≥, Œ¥=0)"]
    B --> F["–ü—É–∞—Å—Å–æ–Ω–æ–≤—Å–∫–∏–µ —à–æ–∫–∏: N(t)<br/>dN ~ Poisson(Œª=0.05)"]
    
    C --> G["–î–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏—è <br/>r(t+Œît) = r(t) + ŒºŒît + œÉ‚àö(Œît)Z + Œ≥ŒîJ + Œ¥ŒîN"]
    D --> G
    E --> G
    F --> G
    
    G --> H["Monte Carlo br/>N=10,000 —Å–∏–º—É–ª—è—Ü–∏–π"]
    H --> I["–ö–≤–∞–Ω—Ç–∏–ª–∏<br/>q‚ÇÄ.‚ÇÄ‚ÇÖ, q‚ÇÄ.‚ÇÇ‚ÇÖ, q‚ÇÄ.‚ÇÖ, q‚ÇÄ.‚Çá‚ÇÖ, q‚ÇÄ.‚Çâ‚ÇÖ"]
    
    I --> J["–ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞<br/>VaR = q‚ÇÄ.‚ÇÄ‚ÇÖ<br/>CVaR = E[r|r < q‚ÇÄ.‚ÇÄ‚ÇÖ]<br/>CRPS = ‚à´(F(x) - ùüô(x‚â•y))¬≤dx"]
```

**Drift —Ñ—É–Ω–∫—Ü–∏—è** –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ –¢–µ–π–ª–æ—Ä–∞: `Œº(r,t) = Œ∫(Œ∏(t) - r(t))`, –≥–¥–µ:
- `Œ∫` ‚Äî —Å–∫–æ—Ä–æ—Å—Ç—å –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫ —Ä–∞–≤–Ω–æ–≤–µ—Å–∏—é
- `Œ∏(t)` ‚Äî —Ü–µ–ª–µ–≤–∞—è —Å—Ç–∞–≤–∫–∞
- `r*` ‚Äî –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–∞—è —Å—Ç–∞–≤–∫–∞
- `Œ±` ‚Äî —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –∏–Ω—Ñ–ª—è—Ü–∏—é
- `œÄ(t)` ‚Äî —Ç–µ–∫—É—â–∞—è –∏–Ω—Ñ–ª—è—Ü–∏—è
- `œÄ*` ‚Äî —Ü–µ–ª—å –ø–æ –∏–Ω—Ñ–ª—è—Ü–∏–∏
- `Œ≤` ‚Äî —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –≤—ã–ø—É—Å–∫
- `y(t)` ‚Äî —Ç–µ–∫—É—â–∏–π –≤—ã–ø—É—Å–∫
- `y*` ‚Äî –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –≤—ã–ø—É—Å–∫

**–î–∏—Ñ—Ñ—É–∑–∏–æ–Ω–Ω–∞—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç HAR –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å: `œÉ(r,t) = œÉ‚ÇÄ‚àöHAR(t) √ó ‚àö(1 + Œª|r(t) - r*|)`, –≥–¥–µ:
- `œÉ‚ÇÄ` ‚Äî –±–∞–∑–æ–≤–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
- `HAR(t)` ‚Äî –≥–µ—Ç–µ—Ä–æ–≥–µ–Ω–Ω–∞—è –∞–≤—Ç–æ—Ä–µ–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
- `Œª` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ–ª–∏–Ω–µ–π–Ω–æ—Å—Ç–∏
- `r(t) - r*` ‚Äî –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –æ—Ç –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–π —Å—Ç–∞–≤–∫–∏

**Œ±-stable —Å–∫–∞—á–∫–∏** –º–æ–¥–µ–ª–∏—Ä—É—é—Ç —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è: `dJ(t) ~ S(Œ±, Œ≤, Œ≥, Œ¥)`, –≥–¥–µ:
- `Œ± = 1.8` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä —Ö–≤–æ—Å—Ç–æ–≤ (1 < Œ± < 2 –¥–ª—è –∂–∏—Ä–Ω—ã—Ö —Ö–≤–æ—Å—Ç–æ–≤)
- `Œ≤ = 0` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä –∞—Å–∏–º–º–µ—Ç—Ä–∏–∏ (-1 ‚â§ Œ≤ ‚â§ 1)
- `Œ≥` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä –º–∞—Å—à—Ç–∞–±–∞ (Œ≥ > 0)
- `Œ¥ = 0` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä —Å–¥–≤–∏–≥–∞

**–ü—É–∞—Å—Å–æ–Ω–æ–≤—Å–∫–∏–µ —à–æ–∫–∏** –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Ä–µ–¥–∫–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ —Ä–∞–∑—Ä—ã–≤—ã: `dN(t) ~ Compound Poisson(Œª, F)`, –≥–¥–µ:
- `Œª = 0.05` ‚Äî –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å —Å–æ–±—ã—Ç–∏–π (—Å—Ä–µ–¥–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–±—ã—Ç–∏–π –≤ –µ–¥–∏–Ω–∏—Ü—É –≤—Ä–µ–º–µ–Ω–∏)
- `F` ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Å–∫–∞—á–∫–∞

## –†–µ–∂–∏–º—ã –¥–µ–Ω–µ–∂–Ω–æ-–∫—Ä–µ–¥–∏—Ç–Ω–æ–π –ø–æ–ª–∏—Ç–∏–∫–∏ —á–µ—Ä–µ–∑ HMM

–°–∫—Ä—ã—Ç—ã–µ –º–∞—Ä–∫–æ–≤—Å–∫–∏–µ —Ü–µ–ø–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ä–µ–∂–∏–º—ã —ç–∫–æ–Ω–æ–º–∏–∫–∏, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏–∑—É–µ—Ç—Å—è —Å–≤–æ–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫:

```mermaid
%%{init: {'theme':'dark', 'themeVariables': {'primaryColor': '#ff7f00', 'primaryTextColor': '#ffffff', 'primaryBorderColor': '#ff7f00', 'lineColor': '#ffffff', 'secondaryColor': '#1f1f1f', 'tertiaryColor': '#2f2f2f', 'background': '#1f1f1f', 'mainBkg': '#2f2f2f', 'secondBkg': '#3f3f3f', 'tertiaryBkg': '#4f4f4f'}}}%%
stateDiagram-v2
    [*] --> Normal
    Normal --> Normal : P‚ÇÅ‚ÇÅ=0.85<br/>–°—Ç–∞–±–∏–ª—å–Ω–∞—è<br/>—ç–∫–æ–Ω–æ–º–∏–∫–∞
    Normal --> Crisis : P‚ÇÅ‚ÇÇ=0.10<br/>–í–Ω–µ—à–Ω–∏–π<br/>—à–æ–∫
    Normal --> Inflationary : P‚ÇÅ‚ÇÉ=0.05<br/>–ü–µ—Ä–µ–≥—Ä–µ–≤<br/>—ç–∫–æ–Ω–æ–º–∏–∫–∏
    
    Crisis --> Crisis : P‚ÇÇ‚ÇÇ=0.70<br/>–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ<br/>–∫—Ä–∏–∑–∏—Å–∞
    Crisis --> Normal : P‚ÇÇ‚ÇÅ=0.20<br/>–°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è<br/>—ç–∫–æ–Ω–æ–º–∏–∫–∏
    Crisis --> Inflationary : P‚ÇÇ‚ÇÉ=0.10<br/>–ò–Ω—Ñ–ª—è—Ü–∏–æ–Ω–Ω—ã–π<br/>–≤—Å–ø–ª–µ—Å–∫
    
    Inflationary --> Inflationary : P‚ÇÉ‚ÇÉ=0.70<br/>–ò–Ω—Ñ–ª—è—Ü–∏–æ–Ω–Ω–∞—è<br/>–∏–Ω–µ—Ä—Ü–∏—è
    Inflationary --> Normal : P‚ÇÉ‚ÇÅ=0.15<br/>–£—Å–ø–µ—à–Ω–∞—è<br/>–¥–µ–∑–∏–Ω—Ñ–ª—è—Ü–∏—è
    Inflationary --> Crisis : P‚ÇÉ‚ÇÇ=0.15<br/>–ñ–µ—Å—Ç–∫–∞—è<br/>–ø–æ–ª–∏—Ç–∏–∫–∞
    
    Normal : Œº‚ÇÅ = 6.0%<br/>œÉ‚ÇÅ = 1.0%<br/>–ù–∏–∑–∫–∏–µ —Å—Ç–∞–≤–∫–∏
    Crisis : Œº‚ÇÇ = 8.0%<br/>œÉ‚ÇÇ = 2.0%<br/>–í—ã—Å–æ–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
    Inflationary : Œº‚ÇÉ = 12.0%<br/>œÉ‚ÇÉ = 1.5%<br/>–í—ã—Å–æ–∫–∏–µ —Å—Ç–∞–≤–∫–∏
```

–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏—Å—Ç–µ–º–∞ –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –º–∞—Ç—Ä–∏—Ü–µ–π –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ `P = [0.85 0.10 0.05; 0.20 0.70 0.10; 0.15 0.15 0.70]` –∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—è–º–∏ —ç–º–∏—Å—Å–∏–∏ `p(r(t)|S(t)=k) = N(r(t); Œº‚Çñ, œÉ‚Çñ¬≤)`. 

**Forward-Backward –∞–ª–≥–æ—Ä–∏—Ç–º:** `Œ±(t,k) = p(r(t)|S(t)=k) √ó Œ£‚±º Œ±(t-1,j) √ó P(j,k)` –∏ `Œ≤(t,k) = Œ£‚±º Œ≤(t+1,j) √ó P(k,j) √ó p(r(t+1)|S(t+1)=j)`, –≥–¥–µ:
- `Œ±(t,k)` ‚Äî –ø—Ä—è–º–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å (–≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –Ω–∞–±–ª—é–¥–µ–Ω–∏–π –¥–æ –º–æ–º–µ–Ω—Ç–∞ t –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è k –≤ –º–æ–º–µ–Ω—Ç t)
- `Œ≤(t,k)` ‚Äî –æ–±—Ä–∞—Ç–Ω–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å (–≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –Ω–∞–±–ª—é–¥–µ–Ω–∏–π –ø–æ—Å–ª–µ –º–æ–º–µ–Ω—Ç–∞ t –ø—Ä–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ k –≤ –º–æ–º–µ–Ω—Ç t)
- `P(j,k)` ‚Äî –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–∞ –∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏—è j –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ k
- `p(r(t)|S(t)=k)` ‚Äî –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –Ω–∞–±–ª—é–¥–µ–Ω–∏—è r(t) –ø—Ä–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ k

–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π: `P(S(t)=k|r‚ÇÅ:T) = Œ±(t,k) √ó Œ≤(t,k) / Œ£‚±º Œ±(t,j) √ó Œ≤(t,j)`

## HAR –º–æ–¥–µ–ª–∏ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏

Heterogeneous Autoregressive –º–æ–¥–µ–ª–∏ —É—á–∏—Ç—ã–≤–∞—é—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Ä—ã–Ω–∫–∞, —á—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫:

```mermaid
%%{init: {'theme':'dark', 'themeVariables': {'primaryColor': '#ff7f00', 'primaryTextColor': '#ffffff', 'primaryBorderColor': '#ff7f00', 'lineColor': '#ffffff', 'secondaryColor': '#1f1f1f', 'tertiaryColor': '#2f2f2f', 'background': '#1f1f1f', 'mainBkg': '#2f2f2f', 'secondBkg': '#3f3f3f', 'tertiaryBkg': '#4f4f4f'}}}%%
graph LR
    A["–î–Ω–µ–≤–Ω–∞—è<br/>–≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å<br/>RV(t-1)"] --> D["HAR –ú–æ–¥–µ–ª—å<br/>RV(t) = Œ≤‚ÇÄ + Œ≤‚ÇÅRV(t-1) + Œ≤‚ÇÇRV(t-1,t-5) + Œ≤‚ÇÉRV(t-1,t-22)"]
    B["–ù–µ–¥–µ–ª—å–Ω–∞—è<br/>–≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å<br/>RV(t-1,t-5)"] --> D
    C["–ú–µ—Å—è—á–Ω–∞—è<br/>–≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å<br/>RV(t-1,t-22)"] --> D
    
    D --> E["–ü—Ä–æ–≥–Ω–æ–∑<br/>–≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏<br/>–Ω–∞ t+1"]
    D --> F["–û—Å—Ç–∞—Ç–∫–∏<br/>–¥–ª—è –∞–Ω–∞–ª–∏–∑–∞<br/>–∂–∏—Ä–Ω—ã—Ö —Ö–≤–æ—Å—Ç–æ–≤"]
    
    F --> G["Œ±-stable<br/>—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ<br/>Œ± = 1.8"]
    G --> H["–®–æ–∫–∏<br/>–≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏<br/>—Å –∂–∏—Ä–Ω—ã–º–∏ —Ö–≤–æ—Å—Ç–∞–º–∏"]
    
    E --> I["–°—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–∞—è<br/>–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞<br/>œÉ(t+1)"]
    H --> I
    
    I --> J["–ò—Ç–æ–≥–æ–≤–∞—è<br/>–≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å<br/>–ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫"]
```

–û—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å `RV(t) = Œ≤‚ÇÄ + Œ≤‚ÇÅRV^(d)(t-1) + Œ≤‚ÇÇRV^(w)(t-1) + Œ≤‚ÇÉRV^(m)(t-1) + Œµ(t)` –≤–∫–ª—é—á–∞–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- `RV(t)` ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –≤ –º–æ–º–µ–Ω—Ç t
- `Œ≤‚ÇÄ` ‚Äî –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞
- `Œ≤‚ÇÅ` ‚Äî –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –¥–Ω–µ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `RV^(d)(t-1) = RV(t-1)` ‚Äî –¥–Ω–µ–≤–Ω–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å
- `Œ≤‚ÇÇ` ‚Äî –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –Ω–µ–¥–µ–ª—å–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã  
- `RV^(w)(t-1) = 1/5 √ó Œ£·µ¢‚Çå‚ÇÅ‚Åµ RV(t-i+1)` ‚Äî –Ω–µ–¥–µ–ª—å–Ω–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å (—Å—Ä–µ–¥–Ω–µ–µ –∑–∞ 5 –¥–Ω–µ–π)
- `Œ≤‚ÇÉ` ‚Äî –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –º–µ—Å—è—á–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `RV^(m)(t-1) = 1/22 √ó Œ£·µ¢‚Çå‚ÇÅ¬≤¬≤ RV(t-i+1)` ‚Äî –º–µ—Å—è—á–Ω–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å (—Å—Ä–µ–¥–Ω–µ–µ –∑–∞ 22 –¥–Ω—è)
- `Œµ(t)` ‚Äî —Å–ª—É—á–∞–π–Ω–∞—è –æ—à–∏–±–∫–∞

–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ: `RV(t+h) = Œ≤‚ÇÄ + Œ≤‚ÇÅRV^(d)(t+h-1) + Œ≤‚ÇÇRV^(w)(t+h-1) + Œ≤‚ÇÉRV^(m)(t+h-1)`, –≥–¥–µ h ‚Äî –≥–æ—Ä–∏–∑–æ–Ω—Ç –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è.

## Taleb R¬≤ –∫–æ—Ä—Ä–µ–∫—Ü–∏—è –¥–ª—è –∂–∏—Ä–Ω—ã—Ö —Ö–≤–æ—Å—Ç–æ–≤

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è–º–∏ —Å –∂–∏—Ä–Ω—ã–º–∏ —Ö–≤–æ—Å—Ç–∞–º–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π R¬≤ –º–æ–∂–µ—Ç –¥–∞–≤–∞—Ç—å –∑–∞–≤—ã—à–µ–Ω–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –º–æ–¥–µ–ª–∏. –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –¢–∞–ª–µ–±–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Ç–æ—á–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏:

**–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π R¬≤:** `R¬≤‚Çõ‚Çúd = 1 - SS_res/SS_tot = 1 - Œ£Œµ¬≤·µ¢/Œ£(y·µ¢-»≥)¬≤`, –≥–¥–µ:
- `SS_res = Œ£Œµ¬≤·µ¢` ‚Äî —Å—É–º–º–∞ –∫–≤–∞–¥—Ä–∞—Ç–æ–≤ –æ—Å—Ç–∞—Ç–∫–æ–≤
- `SS_tot = Œ£(y·µ¢-»≥)¬≤` ‚Äî –æ–±—â–∞—è —Å—É–º–º–∞ –∫–≤–∞–¥—Ä–∞—Ç–æ–≤
- `Œµ·µ¢` ‚Äî –æ—Å—Ç–∞—Ç–æ–∫ –¥–ª—è i-–≥–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è
- `y·µ¢` ‚Äî —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- `»≥` ‚Äî —Å—Ä–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

**Taleb —Ç–æ—á–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞** –¥–ª—è t-—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è: `R¬≤‚Çú‚Çê‚Çó‚Çë·µ¶ = a¬≤(Œ±-2)/(a¬≤(Œ±-2) + Œ±)`, –≥–¥–µ:
- `a¬≤ = Var(≈∑)/Var(Œµ)` ‚Äî –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –¥–∏—Å–ø–µ—Ä—Å–∏–∏ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –∫ –¥–∏—Å–ø–µ—Ä—Å–∏–∏ –æ—Å—Ç–∞—Ç–∫–æ–≤
- `Œ±` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä —Å—Ç–µ–ø–µ–Ω–µ–π —Å–≤–æ–±–æ–¥—ã t-—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
- `E[Œµ¬≤] = Œ±/(Œ±-2)` ‚Äî –æ–∂–∏–¥–∞–µ–º–∞—è –¥–∏—Å–ø–µ—Ä—Å–∏—è –¥–ª—è t-—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–∏ Œ± > 2

**MLE –∫–æ—Ä—Ä–µ–∫—Ü–∏—è:** `R¬≤‚Çò‚Çó‚Çë = 1 - SS_res √ó (Œ±/(Œ±-2))/SS_tot`, –≥–¥–µ:
- `Œ±/(Œ±-2)` ‚Äî –∫–æ—Ä—Ä–µ–∫—Ü–∏–æ–Ω–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å –¥–ª—è t-—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

**Shapley –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è** –¥–ª—è –≤–∞–∂–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö: `R¬≤‚Çõ‚Çï‚Çê‚Çö‚Çó‚Çëy = Œ£·µ¢ œÜ·µ¢(R¬≤)`, –≥–¥–µ:
- `œÜ·µ¢(R¬≤)` ‚Äî –≤–∫–ª–∞–¥ i-–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –ø–æ Shapley
- `œÜ·µ¢(R¬≤) = 1/p! √ó Œ£_S‚äÜN\{i} [R¬≤(S‚à™{i}) - R¬≤(S)]`
- `p` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- `S` ‚Äî –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –Ω–µ –≤–∫–ª—é—á–∞—é—â–µ–µ i
- `N` ‚Äî –º–Ω–æ–∂–µ—Å—Ç–≤–æ –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

## Gradient Boosting –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π

–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –≤—ã–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π –±—É—Å—Ç–∏–Ω–≥ —Å —Ñ—É–Ω–∫—Ü–∏–µ–π –ø–æ—Ç–µ—Ä—å `L(Œ∏) = -Œ£·µ¢‚Çå‚ÇÅ‚Åø log p(y·µ¢|x·µ¢, Œ∏)`, –≥–¥–µ:
- `L(Œ∏)` ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –ø–æ—Ç–µ—Ä—å (–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∞—è –ø—Ä–∞–≤–¥–æ–ø–æ–¥–æ–±–Ω–æ—Å—Ç—å)
- `Œ∏` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
- `p(y·µ¢|x·µ¢, Œ∏)` ‚Äî –ø–ª–æ—Ç–Ω–æ—Å—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è y·µ¢ –ø—Ä–∏ –∑–∞–¥–∞–Ω–Ω—ã—Ö x·µ¢ –∏ Œ∏
- `n` ‚Äî —Ä–∞–∑–º–µ—Ä –≤—ã–±–æ—Ä–∫–∏

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Å–æ–≤: `w^(t+1) = w^(t) √ó exp(-Œ∑ √ó ‚àáL(Œ∏^(t)))`, –≥–¥–µ:
- `w^(t)` ‚Äî –≤–µ—Å–∞ –Ω–∞ –∏—Ç–µ—Ä–∞—Ü–∏–∏ t
- `Œ∑` ‚Äî —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è
- `‚àáL(Œ∏^(t))` ‚Äî –≥—Ä–∞–¥–∏–µ–Ω—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ—Ç–µ—Ä—å

–§–∏–Ω–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å: `p(y|x) = Œ£‚Çñ‚Çå‚ÇÅ·¥∑ w‚Çñ √ó p‚Çñ(y|x, Œ∏‚Çñ)`, –≥–¥–µ:
- `K` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π {Normal, t-dist, Œ±-stable, GED}
- `w‚Çñ` ‚Äî –≤–µ—Å k-–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
- `p‚Çñ(y|x, Œ∏‚Çñ)` ‚Äî k-–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ Œ∏‚Çñ

## –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

**Value at Risk (VaR)** –Ω–∞ —É—Ä–æ–≤–Ω–µ Œ±: `VaR‚Çê = inf{x : P(L ‚â§ x) ‚â• Œ±}`, –≥–¥–µ:
- `L` ‚Äî –ø–æ—Ç–µ—Ä–∏ (—É–±—ã—Ç–∫–∏)
- `Œ±` ‚Äî —É—Ä–æ–≤–µ–Ω—å –¥–æ–≤–µ—Ä–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 0.05 –¥–ª—è 5%)

**Conditional VaR (Expected Shortfall):** `CVaR‚Çê = E[L | L ‚â§ VaR‚Çê]`, –≥–¥–µ:
- `E[L | L ‚â§ VaR‚Çê]` ‚Äî —É—Å–ª–æ–≤–Ω–æ–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ –ø–æ—Ç–µ—Ä—å –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ VaR

**Continuous Ranked Probability Score (CRPS)** –¥–ª—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã—Ö —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π: 
`CRPS(F,y) = ‚à´_{-‚àû}^{‚àû} (F(x) - ùüô{x ‚â• y})¬≤ dx`, –≥–¥–µ:
- `F(x)` ‚Äî –∫—É–º—É–ª—è—Ç–∏–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–æ–≥–Ω–æ–∑–∞
- `ùüô{x ‚â• y}` ‚Äî –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è (1 –µ—Å–ª–∏ x ‚â• y, –∏–Ω–∞—á–µ 0)
- `y` ‚Äî —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ

–î–ª—è –≤—ã–±–æ—Ä–æ—á–Ω—ã—Ö —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π: `CRPS = 1/n √ó Œ£·µ¢‚Çå‚ÇÅ‚Åø |x·µ¢ - y| - 1/(2n¬≤) √ó Œ£·µ¢‚Çå‚ÇÅ‚Åø Œ£‚±º‚Çå‚ÇÅ‚Åø |x·µ¢ - x‚±º|`, –≥–¥–µ:
- `x·µ¢, x‚±º` ‚Äî —ç–ª–µ–º–µ–Ω—Ç—ã –ø—Ä–æ–≥–Ω–æ–∑–Ω–æ–π –≤—ã–±–æ—Ä–∫–∏
- `n` ‚Äî —Ä–∞–∑–º–µ—Ä –ø—Ä–æ–≥–Ω–æ–∑–Ω–æ–π –≤—ã–±–æ—Ä–∫–∏

**Probability Integral Transform (PIT):** `PIT = F(y|x)`, –≥–¥–µ:
- `F` ‚Äî –ø—Ä–æ–≥–Ω–æ–∑–Ω–æ–µ –∫—É–º—É–ª—è—Ç–∏–≤–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
- `y` ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- –ò–¥–µ–∞–ª—å–Ω–∞—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞: PIT ~ U(0,1) (—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ)

## –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

### 1. –ê–Ω–∞–ª–∏–∑ –∂–∏—Ä–Ω—ã—Ö —Ö–≤–æ—Å—Ç–æ–≤ (3.dist_bust.R)

**–¶–µ–ª—å**: –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ —Ö–≤–æ—Å—Ç–æ–≤

**–ú–µ—Ç–æ–¥—ã**:
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è normal, stochastic volatility, mixture —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π
- Tail probability analysis –¥–ª—è —Å–æ–±—ã—Ç–∏–π >2œÉ, >3œÉ, >4œÉ, >5œÉ
- QQ-plots –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –Ω–æ—Ä–º–∞–ª—å–Ω–æ—Å—Ç–∏
- Kurtosis –∏ –¥—Ä—É–≥–∏–µ –º–æ–º–µ–Ω—Ç—ã –¥–ª—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Ö–≤–æ—Å—Ç–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã**:
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–∑–ª–∏—á–∏–π –≤ —Ö–≤–æ—Å—Ç–∞—Ö —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ tail risks
- –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ fat-tailed –º–æ–¥–µ–ª–µ–π

### 2. R¬≤ –∫–æ—Ä—Ä–µ–∫—Ü–∏—è –¥–ª—è –∂–∏—Ä–Ω—ã—Ö —Ö–≤–æ—Å—Ç–æ–≤ (4.LmR2BoostingStohastic.R)

**–¶–µ–ª—å**: –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏ –¢–∞–ª–µ–±–∞ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ R¬≤ –ø—Ä–∏ fat-tailed residuals

**–ú–µ—Ç–æ–¥—ã**:
- **Taleb's exact R¬≤ formula**: `R¬≤ = a¬≤(Œ±-2)/(a¬≤(Œ±-2) + Œ±)`
- **MLE –∫–æ—Ä—Ä–µ–∫—Ü–∏—è**: –£—á–µ—Ç —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–æ–≥–æ `E[Œµ¬≤] = Œ±/(Œ±-2)`
- **Hill estimator** –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ Œ±
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å standard R¬≤ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ residuals

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã**:
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è bias –≤ standard R¬≤ –ø—Ä–∏ fat tails
- Robust –æ—Ü–µ–Ω–∫–∏ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –º–æ–¥–µ–ª–µ–π
- –ú–µ—Ç–æ–¥–∏–∫–∏ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ goodness of fit

### 3. HAR –º–æ–¥–µ–ª–∏ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏

**–¶–µ–ª—å**: –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ —Å —É—á–µ—Ç–æ–º –≥–µ—Ç–µ—Ä–æ–≥–µ–Ω–Ω–æ—Å—Ç–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≥–æ—Ä–∏–∑–æ–Ω—Ç–æ–≤

**–ú–æ–¥–µ–ª—å**:
```
RV(t) = Œ≤‚ÇÄ + Œ≤‚ÇÅRV(t-1) + Œ≤‚ÇÇRV(t-1,t-5) + Œ≤‚ÇÉRV(t-1,t-22) + Œµ(t)
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:
- Daily volatility: RV(t-1)
- Weekly volatility: RV(t-1,t-5)
- Monthly volatility: RV(t-1,t-22)

### 4. –°–∫—Ä—ã—Ç—ã–µ –º–∞—Ä–∫–æ–≤—Å–∫–∏–µ —Ü–µ–ø–∏ (HMM)

**–¶–µ–ª—å**: –ú–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤ –¥–µ–Ω–µ–∂–Ω–æ-–∫—Ä–µ–¥–∏—Ç–Ω–æ–π –ø–æ–ª–∏—Ç–∏–∫–∏

**–°–æ—Å—Ç–æ—è–Ω–∏—è**:
- S‚ÇÅ: –ù–æ—Ä–º–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º (–Ω–∏–∑–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å)
- S‚ÇÇ: –ö—Ä–∏–∑–∏—Å–Ω—ã–π —Ä–µ–∂–∏–º (–≤—ã—Å–æ–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å)
- S‚ÇÉ: –ò–Ω—Ñ–ª—è—Ü–∏–æ–Ω–Ω—ã–π —Ä–µ–∂–∏–º (–∞–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è –ø–æ–ª–∏—Ç–∏–∫–∞)

**–ü–µ—Ä–µ—Ö–æ–¥—ã**:
```
P = [p‚ÇÅ‚ÇÅ p‚ÇÅ‚ÇÇ p‚ÇÅ‚ÇÉ]
    [p‚ÇÇ‚ÇÅ p‚ÇÇ‚ÇÇ p‚ÇÇ‚ÇÉ]
    [p‚ÇÉ‚ÇÅ p‚ÇÉ‚ÇÇ p‚ÇÉ‚ÇÉ]
```

### 5. Gradient Boosting –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π

**–¶–µ–ª—å**: –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –≤—ã–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞

**–ê–ª–≥–æ—Ä–∏—Ç–º**:
1. Ensemble –∏–∑ Normal, t-distribution, Œ±-stable, GED
2. Boosting –¥–ª—è –≤–µ—Å–æ–≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π
3. Adaptive distribution selection
4. Cross-validation –¥–ª—è robust performance

### 6. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–æ–¥–µ–ª—è–º–∏ –¶–ë –†–§

#### –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ –¢–µ–π–ª–æ—Ä–∞
–ë–∞–∑–æ–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ –¥–æ–ø–æ–ª–Ω–µ–Ω–æ —Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏:

```
dr(t) = [Œ±‚ÇÄ + Œ±‚ÇÅ(œÄ(t) - œÄ*) + Œ±‚ÇÇ(y(t) - y*) + Œ±‚ÇÉŒîCA(t) + Œ±‚ÇÑS(t)] dt
      + œÉ‚ÇÅ dW(t) + œÉ‚ÇÇ dJ(t) + œÉ‚ÇÉ dN(t)
```

–≥–¥–µ:
- `œÄ(t) - œÄ*` ‚Äî –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–ª—è—Ü–∏–∏ –æ—Ç —Ü–µ–ª–∏
- `y(t) - y*` ‚Äî —Ä–∞–∑—Ä—ã–≤ –≤—ã–ø—É—Å–∫–∞
- `ŒîCA(t)` ‚Äî –¥–∏–Ω–∞–º–∏–∫–∞ —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –∞–∫—Ç–∏–≤–æ–≤
- `S(t)` ‚Äî —Å–∞–Ω–∫—Ü–∏–æ–Ω–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã
- `dW(t)` ‚Äî –±—Ä–æ—É–Ω–æ–≤—Å–∫–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ
- `dJ(t)` ‚Äî Œ±-stable —Å–∫–∞—á–∫–∏
- `dN(t)` ‚Äî –ø—É–∞—Å—Å–æ–Ω–æ–≤—Å–∫–∏–µ —à–æ–∫–∏

#### –ù–µ–π—Ç—Ä–∞–ª—å–Ω–∞—è —Å—Ç–∞–≤–∫–∞ –∫–∞–∫ —Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å
```
dŒº*(t) = Œ∫(E_t[œÄ] - œÄ*) dt + œÉ_Œº dW_Œº(t)
```

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –¶–ë
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –î–î–ö–ü –∏ –î–ò–ü –∫–∞–∫ –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ `4.CB_models/` –¥–ª—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
- –ú–∞–∫—Ä–æ—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ `3.Data/` –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏

### 7. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

#### –°—Ü–µ–Ω–∞—Ä–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫
- Stress-testing –¥–ª—è —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- –û—Ü–µ–Ω–∫–∞ tail risks –¥–ª—è policy decisions

#### Risk Management
- VaR/CVaR –æ—Ü–µ–Ω–∫–∏ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≥–æ—Ä–∏–∑–æ–Ω—Ç–æ–≤
- CRPS –∏ PIT –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –¥–ª—è model validation
- Tail-sensitive performance metrics

#### –ú–æ–Ω–µ—Ç–∞—Ä–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
- Adaptive policy rules —Å —É—á–µ—Ç–æ–º —Ä–µ–∂–∏–º–æ–≤
- Robust decision making –ø–æ–¥ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ—Å—Ç—å—é
- Integration —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –º–æ–¥–µ–ª—è–º–∏ –¶–ë

### 8. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è (–±–∞–∑–∞ –¥–ª—è –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏)

#### Tail Risks –≤ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã—Ö –±–∞–Ω–∫–∞—Ö (2024)

**Fed Research**:
- **Grishchenko & Wilcox (May 2024)**: "Tale About Inflation Tails" - state-space –º–æ–¥–µ–ª–∏ –¥–ª—è extreme inflation events
- **NY Fed (July 2024)**: ZLB risk analysis - 9% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å ZLB –Ω–∞ 7-–ª–µ—Ç–Ω–µ–º –≥–æ—Ä–∏–∑–æ–Ω—Ç–µ

**BIS Research**:
- **Heterogeneous agent New Keynesian models** —Å ZLB constraints
- **Neural network solutions** –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö DSGE –º–æ–¥–µ–ª–µ–π

**St. Louis Fed**:
- **Kozlowski (July 2024)**: Inflation tail risks —á–µ—Ä–µ–∑ financial market data
- –ü–µ—Ä–µ—Ö–æ–¥ –æ—Ç left-tail –∫ right-tail —Ä–∏—Å–∫–∞–º post-pandemic

#### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Œ±-stable —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**:
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤ operational –º–æ–¥–µ–ª—è—Ö –¶–ë
- –§–æ–∫—É—Å –Ω–∞ tail risks –≤ inflation expectations, –∞ –Ω–µ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—ã—Ö —Å—Ç–∞–≤–∫–∞—Ö
- –î–æ–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ traditional diffusion/jump-diffusion –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**:
- –†–∞—Å—Ç—É—â–∏–π –∏–Ω—Ç–µ—Ä–µ—Å –∫ hybrid monetary systems
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏–∏ —Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–∏—Ö –º–æ–¥–µ–ª–µ–π
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è innovative approaches

## –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–≤

### –ü—Ä–∏–Ω—Ü–∏–ø –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤, –≥–¥–µ –º–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ, –Ω–∞—à–∞ —Å–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é** –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

**1. –ñ–∏—Ä–Ω—ã–µ —Ö–≤–æ—Å—Ç—ã –≤–ª–∏—è—é—Ç –Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- –≠–∫—Å—Ü–µ—Å—Å –∏–∑ –∞–Ω–∞–ª–∏–∑–∞ —Ö–≤–æ—Å—Ç–æ–≤ ‚Üí –∫–æ—Ä—Ä–µ–∫—Ü–∏—è Œ±-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞ Œ±-stable —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
- –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å 3œÉ —Å–æ–±—ã—Ç–∏–π ‚Üí —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –≥–∞—É—Å—Å–æ–≤—Å–∫–æ–π –∏ Œ±-stable –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- `alpha_corrected = alpha_estimate * (1 + 0.1 * log(rates_kurtosis / 3))`

**2. HAR –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –∫–∞–∫ –º–æ–¥—É–ª—è—Ç–æ—Ä:**
- –ü—Ä–æ–≥–Ω–æ–∑ HAR ‚Üí –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –≤ —Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–∏—Ö —à–æ–∫–∞—Ö
- `vol_multiplier = sqrt(current_vol * har_multiplier)`
- –í–ª–∏—è–Ω–∏–µ HAR –Ω–∞ –¥–∏—Å–ø–µ—Ä—Å–∏—é –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –∏–∑–º–µ—Ä—è–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–µ–π

**3. HMM —Ä–µ–∂–∏–º—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É:**
- –û–±—É—á–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã ‚Üí –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ —Å–º–µ–Ω—ã —Ä–µ–∂–∏–º–æ–≤ –≤ –ø—Ä–æ–≥–Ω–æ–∑–∞—Ö
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —ç–º–∏—Å—Å–∏–∏ ‚Üí –±–∞–∑–æ–≤—ã–µ —É—Ä–æ–≤–Ω–∏ —Å—Ç–∞–≤–æ–∫ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–∂–∏–º–∞
- –†–µ–∂–∏–º—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∫–∞–∫ —Ñ–∞–∫—Ç–æ—Ä—ã –≤ –æ—Å–Ω–æ–≤–Ω—É—é –º–æ–¥–µ–ª—å

**4. Boosting –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è:**
- –í—ã–±–æ—Ä —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è ‚Üí –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å Œ±-stable —Å–∫–∞—á–∫–æ–≤
- `stable_intensity = 1.5 –¥–ª—è stable, 1.2 –¥–ª—è t, 0.8 –¥–ª—è normal`
- –í–µ—Å–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π –≤–ª–∏—è—é—Ç –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —à–æ–∫–æ–≤

**5. Shapley –≤–µ—Å–∞ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –≤–∞–∂–Ω–æ—Å—Ç—å:**
- –í–µ—Å–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö ‚Üí –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –≤ –∏—Ç–æ–≥–æ–≤–æ–π –º–æ–¥–µ–ª–∏
- `formula: ruonia_rate ~ I(var1 * weight1) + I(var2 * weight2) + ...`
- –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Å–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:

```r
# –í–ª–∏—è–Ω–∏–µ HAR –Ω–∞ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
har_influence = cor(—Å—Ä–µ–¥–Ω—è—è_–≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å_HAR, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ_–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ_–ø—Ä–æ–≥–Ω–æ–∑–æ–≤)

# –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Ä–µ–∂–∏–º–æ–≤ –≤ –ø—Ä–æ–≥–Ω–æ–∑–∞—Ö
regime_stability = —Å—Ä–µ–¥–Ω—è—è_–¥–æ–ª—è_—É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö_—Ä–µ–∂–∏–º–æ–≤_–ø–æ_–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–º

# –ó–∞—Ö–≤–∞—Ç —Ö–≤–æ—Å—Ç–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π
tail_capture = —Å—Ä–µ–¥–Ω—è—è_–≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å_3œÉ_—Å–æ–±—ã—Ç–∏–π_–≤_—Å–∏–º—É–ª—è—Ü–∏—è—Ö
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:

```r
# –°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª —Å –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å –∫–æ–ª–æ–Ω–∫–æ–π date)
new_data <- data.table(
  date = seq(as.Date("2020-01-01"), as.Date("2025-01-01"), by = "month"),
  sanctions_score = runif(61, 0, 100),
  oil_price = runif(61, 50, 150),
  digital_ruble_adoption = runif(61, 0, 1)
)
fwrite(new_data, "3.Data/new_factors.csv")

# –§—É–Ω–∫—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç –Ω–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–∞–∫ —Å–≤–æ–±–æ–¥–Ω—ã–µ —á–ª–µ–Ω—ã
updated_model <- AddNewDataToModel("3.Data/new_factors.csv", final_integrated_model)
```

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö:**
1. –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ PrepareMainData() —Å –Ω–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
3. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ–æ—Ä–º—É–ª—ã –º–æ–¥–µ–ª–∏: `+ new_var1 + new_var2 + ...`
4. –ü–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤–µ—Å–æ–≤ Shapley
5. –ù–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ–ª—É—á–∞—é—Ç —Ä–∞–≤–Ω—ã–µ –≤–µ—Å–∞ (–∑–∞—Ç–µ–º –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–±—É—á–∏—Ç—å Shapley)

### –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ `source("1.R/Main.R")` –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:

**–ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥:**
```
=== –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ü–û–õ–ù–û–ô –ò–ù–¢–ï–ì–†–ê–¶–ò–ò –í–°–ï–• –ú–ï–¢–û–î–û–í ===
1. –ñ–ò–†–ù–´–ï –•–í–û–°–¢–´ ‚Üí –≠–∫—Å—Ü–µ—Å—Å: 4.23, Œ±-–∫–æ—Ä—Ä–µ–∫—Ü–∏—è: 2.85
2. HAR –í–û–õ–ê–¢–ò–õ–¨–ù–û–°–¢–¨ ‚Üí R¬≤: 0.72, –í–ª–∏—è–Ω–∏–µ: 0.65
3. HMM –†–ï–ñ–ò–ú–´ ‚Üí Normal: 60%, Crisis: 25%, Inflationary: 15%
4. GRADIENT BOOSTING ‚Üí –õ—É—á—à–µ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: t
5. TALEB R¬≤ + SHAPLEY ‚Üí R¬≤: 0.68, –í–µ—Å–∞: inflation(0.35), gdp(0.28)...
6. –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø ‚Üí –ó–∞—Ö–≤–∞—Ç —Ö–≤–æ—Å—Ç–æ–≤: 8.3%
```

### –ù–æ–≤—ã–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

#### 1. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Ç–∏ –º–∞—Ä–∫–æ–≤—Å–∫–∏—Ö —Ü–µ–ø–µ–π
–°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏ —Å –ø–æ–º–æ—â—å—é visNetwork:

```r
# –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π —Å–µ—Ç–∏
markov_network <- CreateMarkovNetworkVisualization(hmm_model)
markov_network
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –£–∑–ª—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Ä–µ–∂–∏–º—ã (Normal, Crisis, Inflationary)
- –†–∞–∑–º–µ—Ä —É–∑–ª–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ —Ä–µ–∂–∏–º–∞
- –¢–æ–ª—â–∏–Ω–∞ —Ä—ë–±–µ—Ä –æ—Ç—Ä–∞–∂–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–∞
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

#### 2. –£–ª—É—á—à–µ–Ω–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ —Å –±–µ–ª—ã–º —Ñ–æ–Ω–æ–º
–í—Å–µ –≥—Ä–∞—Ñ–∏–∫–∏ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –Ω–∞ –±–µ–ª—ã–π —Ñ–æ–Ω –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏:

```r
# –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –º–æ–¥–µ–ª–µ–π
model_comparison_plot <- CreateModelComparisonPlot(
  baseline_forecasts,
  final_integrated_model,
  train_data_with_regimes,
  forecast_dates
)
```

**–£–ª—É—á—à–µ–Ω–∏—è:**
- –ë–µ–ª—ã–π —Ñ–æ–Ω —Å —Å–µ—Ä–æ–π —Å–µ—Ç–∫–æ–π
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Ü–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞
- –ß–µ—Ç–∫–∏–µ –∫–æ–Ω—Ç—Ä–∞—Å—Ç—ã –¥–ª—è –ª—É—á—à–µ–π –≤–∏–¥–∏–º–æ—Å—Ç–∏
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –¥–ª—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–π

#### 3. –¢–µ–ø–ª–æ–≤—ã–µ –∫–∞—Ä—Ç—ã –º–∞—Ç—Ä–∏—Ü –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π —Å–º–µ–Ω—ã —Ä–µ–∂–∏–º–æ–≤:

```r
# –¢–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
transition_heatmap <- CreateTransitionHeatmap(hmm_model$transition_matrix)
```

**–§—É–Ω–∫—Ü–∏–∏:**
- –¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏
- –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ
- –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ —Ä–∞–∑–ª–∏—á–Ω—ã–º —Ä–∞–∑–º–µ—Ä–∞–º –º–∞—Ç—Ä–∏—Ü

